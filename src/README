Please check the following sites for additional information:
General information: http://oss.deltares.nl/web/opendelft3d/source-code
FAQ                : http://oss.deltares.nl/web/opendelft3d/faq-compiling-code
Compile forum      : http://oss.deltares.nl/web/opendelft3d/general/-/message_boards?_19_mbCategoryId=22276


Compiling on Windows
====================
  0) Be sure that you have installed:
     Visual Studio 2008, including Fortran compiler Intel 11.0
  1) Open "src\d_hydro_open_source.sln" in Visual Studio
  2) Select the "solution configuration" you want: Debug or Release
  3) <Ctrl><Shift>B
  4) The binaries are installed in directory "bin\w32" (release) 
     or in the subdirectory of the executable, e.g. "src\engines_gpl\d_hydro\bin\Debug" (debug)


Compiling on Linux
==================
  1) In directory "src": ./build.sh -intel11.1
     Debug version: build.sh -debug
  2) The binaries are installed in directory "bin\intel"
  3) To clean (removing all files generated by autoreconf/configure/make):
     make distclean
  4) 64 bit version
     This is under construction
     Be careful with compilers having a different revision or build number; this will lead to different paths
     Be careful with tools located in different directories (e.q. /opt/mpich2)
     Check both "common.am" and "build.sh"
     Check http://oss.deltares.nl/web/opendelft3d/general/-/message_boards/view_message/46284
     Check http://oss.deltares.nl/web/opendelft3d/faq-compiling-code#How do I create a 64-bit executable?

Compiling on OSX
================
The OSX version is only tested with Macports gcc45 + openmpi compilers. Make sure you also get libtool, autoconf, automake, gnu make from macports. The OSX version is very alpha (not tested) so please don't use it for anything serious and report any problems to the general forum. The steps to get it working are first install DelftOnline:
   1) cd third_party_open/DelftOnline
   2) autoreconf -i 
   3) ./configure *
   4) make
   5) make install
Then build Delft3D
   1) cd delft3dsrcdirectory **
   2) autoreconf -i 
   3) ./configure (*,***)
   4) make
   5) make install 
* If you don't want to install into /usr/local, use --prefix=abspath
** Go back to the path where you did svn checkout 
*** Set DYLD_LIBRARY_PATH to the directory containing DelftOnline if it's not in your default path

Directory structure
===================
engines     : Programs which perform a physical simulation
engines_gpl : Open source engines under GPL conditions
tools       : Programs which support the engines 
tools_gpl   : Open source tools under GPL conditions
utils       : Libraries which are used by the engines and/or tools, but at least by more than one engine/tool
utils_lgpl  : Open source utils under LGPL conditions

Location where compiler flags are defined/added
===============================================
configure.ac
------------
Preprocessor:
line 86: (AC_FC_PREPROCESS)

OpenMP flags:
line 66 and 95: (AX_OPENMP)

-recursive -reentrancy threaded -traceback:
line 112 and 120

-lirc, -lsvml, -lmcheck:
line 176, 177 and 178 respectively

pthread:
line 182 (ACX_PTHREAD)


common.am
=========
F77 lines longer than 72 characters:
line 57 (-extend-source 132)



build.sh
======
debug or release:
line 252/254: '-g -O0'  resp. '-O2'

position independent code:
line 265-276: -fPIC

64bit:
line 265-268: -m64


21 November 2011
adri.mourits@deltares.nl
